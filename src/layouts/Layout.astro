---
import '../styles/global.css';
import { ClientRouter } from 'astro:transitions';

interface Props {
	title: string;
    description?: string;
    image?: string;
}

// Valores por defecto si no se especifican
const { 
    title, 
    description = "Pastelería Artesanal hecha con amor. Descubrí nuestro catálogo de tortas, brownies y cosas ricas para compartir.",
    image = "/images/social-image.jpg" // La imagen que creaste en el paso 1
} = Astro.props;

// Esto genera la URL absoluta necesaria para WhatsApp (ej: https://tuset.com/images/...)
const canonicalURL = new URL(Astro.url.pathname, Astro.site);
const socialImageURL = new URL(image, Astro.site);
---

<!doctype html>
<html lang="es" class="scroll-smooth">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width" />
		<link rel="icon" type="image/svg+xml" href="/logooo.svg" />
		<meta name="generator" content={Astro.generator} />
        
        <link rel="preconnect" href="https://fonts.googleapis.com">
		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
		<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600&family=Playfair+Display:ital,wght@0,400;0,600;0,700;1,400&display=swap" rel="stylesheet">
		
        <title>{title}</title>
        <meta name="description" content={description} />
        <link rel="canonical" href={canonicalURL} />

        <meta property="og:type" content="website" />
        <meta property="og:url" content={canonicalURL} />
        <meta property="og:title" content={title} />
        <meta property="og:description" content={description} />
        <meta property="og:image" content={socialImageURL} />

        <meta property="twitter:card" content="summary_large_image" />
        <meta property="twitter:url" content={canonicalURL} />
        <meta property="twitter:title" content={title} />
        <meta property="twitter:description" content={description} />
        <meta property="twitter:image" content={socialImageURL} />

		<ClientRouter />
	</head>

	<body
		class="bg-norma-base text-norma-dark font-sans antialiased min-h-screen flex flex-col md:pb-0"
	>
		<header
			class="sticky top-0 z-50 bg-white shadow-sm transition-all duration-300"
		>
			<div class="pt-6 pb-4 px-4 text-center">
				<a href="/" class="inline-flex flex-col items-center group">
					<img
						src="/images/logo.png"
						alt="Logo Norma's Cakes"
						class="h-16 w-16 md:h-20 md:w-20 object-contain rounded-full border border-norma-muted/20 p-1 mb-3 hover:scale-105 transition-transform duration-300"
					/>

					<h1
						class="font-serif text-2xl md:text-3xl text-norma-dark mb-1 leading-tight"
					>
						Norma Cakes
					</h1>

					<p
						class="text-[10px] md:text-xs tracking-[0.3em] uppercase text-norma-muted font-medium"
					>
						Pastelería Artesanal
					</p>
				</a>
			</div>

			
		</header>
		

		<main class="grow w-full max-w-6xl mx-auto px-4 py-10">
			<slot />
		</main>

		<footer
			class="bg-norma-dark text-norma-base py-3 text-center mt-auto border-t border-white/10"
		>
			<div
				class="flex flex-col md:flex-row justify-center items-center gap-1 text-[10px] opacity-60 uppercase tracking-wider"
			>
				<span>&copy; 2025 Norma's Cakes</span>
				<span class="hidden md:inline mx-2">•</span>
			</div>
		</footer>
	</body>
</html>
